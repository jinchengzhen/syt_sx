<!DOCTYPE html>
<html>
<head>
<!-- //http://localhost:8080/StuScoreSystem/scoreManagement/html/teacher.html -->
<meta charset="UTF-8">
<link rel="stylesheet" href="../css/perfect-scrollbar.css" type="text/css"></link>
<link rel="stylesheet" href="../css/new.css" type="text/css"></link>
<link rel="stylesheet" href="../bootstrap-ztree3/css/bootstrapStyle/bootstrapStyle.css" type="text/css">
<script type="text/javascript" src="../js/jquery-3.2.1.js"></script>
<script type="text/javascript" src="../js/jquery-1.8.0.min.js"></script>
<script type="text/javascript" src="../js/jquery.cookie.js"></script>
<script type="text/javascript" src="../bootstrap-ztree3/js/jquery.ztree.core.js"></script>
<script type="text/javascript" src="../bootstrap-ztree3/js/jquery.ztree.excheck.js"></script>
<script type="text/javascript" src="../bootstrap-ztree3/js/jquery.ztree.exedit.js"></script>
<script type="text/javascript" src="../js/jquery.mousewheel.js"></script>
<script type="text/javascript" src="../js/perfect-scrollbar.js"></script>
<script type="text/javascript" src="../js/scoreManage.js"></script>
<title>学生成绩管理系统（教师登录）</title>
</head>
<body>
	<div class="total">
		<!-- title -->
		<div class="titleblock">
			<div class="systitle">
				<font>欢迎进入学生成绩信息管理系统</font>
			</div>
			<div class="loginfo">
			<font>登录人：</font><span id="loginer">xxx</span>
			<font>登录时间：</font><span id="logintime">YYYY-MM-DD HH:mm:ss</span>
			</div>
			<div class="exist"><span onclick="exist()"><img  src="../images/tingzhi.png"><b>退出系统</b></span></div>
		</div>
		<!-- 图标 -->
		<div class="flagblock"><img src="../images/flag.png"height="210" width="226"></div>
		<!-- 左侧功能菜单 -->
		<div class="leftblock">
		</div>
		<div class="menu">
			<ul><li  onclick="showblock('personInfo_Block')"style="list-style-image: url(../images/fjtb1.png);"><span>个人信息</span></li>
				<li  onclick="showblock('inert_Score_Block')"style="list-style-image: url(../images/chakan1.png);"><span>成绩录入</span></li>
				<li  onclick="showblock('select_Score_Block')"style="list-style-image: url(../images/addfj.png);"><span>成绩查询</span></li></ul>
		</div> 
		<!-- 主体内容显示 -->	
		<div id="contentblock"class="contentblock">
			<!-- 查看学生个人成绩弹出框 -->
			<div id="mengc"class="mengc"hidden>
				<div id="person_score_block">
					<table>
						<thead>
						<tr style="background-color: antiquewhite;"><th colspan="2"><font style="margin-left: 0%">学生个人成绩</font></th></tr>
						<tr><th style="width: 50%;">姓&#160;&#160;名：</th><th style="width: 50%;"><span id="personal_nameval">XXX</span></th></tr>
						<tr><th>学&#160;&#160;号：</th><th><span id="personal_idval">123123</span></th></tr>
						<tr></tr>
						<tr style="background-color: beige;"><th >课&#160;&#160;程&#160;</th><th >成&#160;&#160;绩</th></tr></thead>
						<tbody id="person_score_list">
						<tr><td >语文</td><td >100</td></tr>
						</tbody>
					</table>
				<div id="ensure_button"><button id="btn_hide"onclick="info_hide()"style="position: absolute;margin-top: -3%;"><font style="font-size: 26px;" >确定</font></button></div>
				</div>
			</div>
		
			<!-- 个人信息 -->
			<div id="personInfo_Block"class="tcontent">
				<div class="detail">
				<table>
						<tr><td colspan="2"><font style="margin-left: 46%"><b>人员详细信息</b></font></td></tr>
						<tr><th style="width: 33%">人员类型：</th><td style="width: 66%"><span id="loginer_typeval"value="1">学生</span></td></tr>
						<tr><th>姓&#160;&#160;名：</th><td><span id="loginer_nameval">XXX</span></td></tr>
						<tr><th>性&#160;&#160;别：</th><td><span id="loginer_sexval"value="1">男</span></td></tr>
						<tr><th>出生日期：</th><td><span id="loginer_birthval">1111-11-11</span></td></tr>
						<tr><th>用&#160;户ID：</th><td><span id="loginer_userIDval">1111-11-11</span></td></tr>
						<tr><th>密&#160;&#160;码：</th><td><span id="loginer_passwordval">1111-11-11</span></td></tr>
						<tr><th>联系电话：</th><td><span id="loginer_phoneval">1111-11-11</span></td></tr>
						<tr><th>班&#160;&#160;级：</th><td><span id="loginer_gradeval"></span></td></tr>
						<tr><th>课&#160;&#160;程：</th><td><span id="loginer_classval"></span></td></tr>
				</table>
				</div>
				<div id="user_img"style="margin-left: 56%;margin-top: 10%;"><img id="user_jpg"src=""></div>
			</div>
			<!-- 成绩查询 -->
			<div id="select_Score_Block"class="tcontent"hidden>
			
				<div class="optionblock">
					<div class="op1"><span id="classes_search"><font>课&#160;程：</font></span></div><div class="op1"><select id="c2"name="class_option"class="select"><option value="classID">课程1</option><option value="classID">课程2</option></select></div>
					<div class="op1"><span id="grade_search"><font>班&#160;级：</font></span></div><div class="op1"><select id="g2"name="grade_option"class="select"><option>1班</option><option>2班</option></select></div>
					<div class="op1"><button onclick="deal_search_score('2')"><font>查&#160;询</font></button></div><div style="position: absolute;margin-left: 63%;margin-top: 2%;"><input id="asc"type="radio" name="sort_way"checked="checked"style="width: 18px;height: 18px;"><font onclick="$('#asc').click()">升序</font><input id="desc"type="radio" name="sort_way"style="width: 18px;height: 18px;"><font onclick="$('#desc').click()">降序</font></div>
					<div class="op1"><button id="export"onclick="exportExcel()"><font>导&#160;出</font></button></div><!-- <input id="type1"type="radio"name="ptype"value="1"checked><font onclick="$('#type1').click()">学生 </font>  &#160; <input id="type2"type="radio"name="ptype"value="2"><font onclick="$('#type2').click()">教师</font> -->
				</div>
				<div id="queryblock"class="queryblock">
					<table>
						<thead><tr><th style="width:10%;height:38px">序号</th><th style="width:10%;height:38px">班级</th><th style="width:20%;height:38px">姓名</th><th style="width:20%;height:38px">学号</th><th style="width:20%;height:38px"><span id="query_classname"></span>课程分数</th><th style="width:20%">操&#160;&#160;作</th></tr></thead>
						<tbody id="query_score_list">
						</tbody>
					</table>
				</div>
				<!-- 翻页 -->
				<div class="pagepart">
					<span ><font>当前</font><font id="pagefoot2">0/0</font><font>页</font></span>
		            <input name="2"id="firstpage"class="btn3"type="button"onclick="pageturn($(this).attr('id'))"value="首页">&nbsp;
		            <input name="2"id="lastpage"class="btn3"type="button"onclick="pageturn($(this).attr('id'))"value="上一页">&nbsp;
		            <input name="2"id="nextpage"class="btn3"type="button"onclick="pageturn($(this).attr('id'))"value="下一页">&nbsp;
		            <input name="2"id="endpage"class="btn3"type="button"onclick="pageturn($(this).attr('id'))"value="尾页">
		   		</div>
			</div>
			<!-- 成绩录入 -->
			<div id="inert_Score_Block"class="tcontent"hidden>
				<div class="optionblock">
					<div class="op1"><span id="classes_search"><font>课&#160;程：</font></span></div><div class="op1"><select id="c1"name="class_option"class="select"><option value="classID">课程1</option><option value="classID">课程2</option></select></div>
					<div class="op1"><span id="grade_search"><font>班&#160;级：</font></span></div><div class="op1"><select id="g1"name="grade_option"class="select"><option>1班</option><option>2班</option></select></div>
					<div class="op1"><button onclick="deal_search_score('1')"><font>查&#160;询</font></button></div>
				</div>
				<div id="queryblock"class="queryblock">
					<table>
						<thead><tr><th style="width:20%;height:38px">班级</th><th style="width:20%;height:38px">姓名</th><th style="width:20%;height:38px">学号</th><th style="width:20%;height:38px"><span id="score_classname"></span>课程分数</th><th style="width:20%">录入状态</th></tr></thead>
						<tbody id="update_score_list"><!-- update_score_list -->
						</tbody>
					</table>
				</div>
				<!-- 翻页 -->
				<div class="pagepart">
					<span><font>当前</font><font id="pagefoot1">0/0</font><font>页</font></span>
		            <input name="1"id="firstpage"class="btn3"type="button"onclick="pageturn($(this).attr('id'))"value="首页">&nbsp;
		            <input name="1"id="lastpage"class="btn3"type="button"onclick="pageturn($(this).attr('id'))"value="上一页">&nbsp;
		            <input name="1"id="nextpage"class="btn3"type="button"onclick="pageturn($(this).attr('id'))"value="下一页">&nbsp;
		            <input name="1"id="endpage"class="btn3"type="button"onclick="pageturn($(this).attr('id'))"value="尾页">
		   		</div>
			</div>
		</div>
	</div>
	
	</div>
	<div id='msg'style='display:block;position:absolute;z-index:999999999999;bottom:-40%;right:10px;width:240px; height:130px;border-right:#cccccc 1px solid;border-top:#cccccc 1px solid; border-left:#cccccc 1px solid;border-bottom:#cccccc 1px solid; background-color: #ffffff;'><div style='width:240px;height:25px; color: #ffffff; border-bottom:#cccccc 1px solid; background-color:#143251;text-align:left;text-indent:20px;line-height:25px;'>消息提示</div><div style='width:240px;height:100px;line-height:100px;text-align:center;'><span></span></div></div>
	<script type="text/javascript">
	　$(function(){
　　　　　　$(document).bind("click",function(e){
　　　　　　       var target  = $(e.target);
　　　　　  　     if(target.closest("#ztreeblock0").length == 0){
	　　　　　  　  	var state0 = $("#ztreeblock0").attr("value");
　　　　　  　  	   if(state0=="show"){
	　　　　　  　  		var treeObj = $.fn.zTree.getZTreeObj("gradetree");
	　　　　			var nodes=treeObj.getCheckedNodes(true);
	　　　　			if(nodes!=null){
	　　　　				var info="";
	　　　　				for(var i=0;i<nodes.length;i++){
	　　　　					 if (nodes[i].isParent){
	　　　　		          	}else{
	　　　　		          		info += nodes[i].name+" ; ";
	　　　　		          	}
	　　　　				}
　　　　		          	 $("#gradeval").val(info);
　　　　		          	 $("#gradeval").attr("title",info);
	　　　　			}
	　　　　	      	$("#ztreeblock0").hide();
	　　　　	      	$("#ztreeblock0").attr("value","hide");
	　　　　　  　  	}
　　　　　  　     }
　　　　　  　     if(target.closest("#ztreeblock").length == 0){
	　　　　　  　  	var state = $("#ztreeblock").attr("value");
	　　　　　  　  	if(state=="show"){
		　　　　　  　  	var treeObj = $.fn.zTree.getZTreeObj("classtree");
					var nodes=treeObj.getCheckedNodes(true);
					if(nodes!=null){
						var info="";
						for(var i=0;i<nodes.length;i++){
							 if (nodes[i].isParent){
				          	}else{
				          		if(nodes[i].getParentNode()!=null){
				          			info += nodes[i].getParentNode().name+" - ";
				          		}
				          		info +=  nodes[i].name+ " ; ";
				          	}
						}
		          		 $("#classval").val(info);
		          		 $("#classval").attr("title",info);
	　　　　　  　  		}
			      	$("#ztreeblock").hide();
			      	$("#ztreeblock").attr("value","hide");
				}
	 　　　　	}
　　　　　  　      if(target.closest("#querytreeblock").length == 0){
	　　　　　  　  	var state = $("#querytreeblock").attr("value");
	　　　　　  　  	if(state=="show"){
		　　　　　  　  	var treeObj = $.fn.zTree.getZTreeObj("querytree");
					var nodes=treeObj.getCheckedNodes(true);
					if(nodes!=null){
						var info="";
						for(var i=0;i<nodes.length;i++){
							 if (nodes[i].isParent){
				          	}else{
				          		if(nodes[i].getParentNode()!=null){
				          			info += nodes[i].getParentNode().name+" - ";
				          		}
				          		info +=  nodes[i].name;
				          	}
						}
		          		 $("#selIn").val(info);
		          		 $("#selIn").attr("title",info);
	　　　　　  　  		}
			      	$("#querytreeblock").hide();
			      	$("#querytreeblock").attr("value","hide");
				}
	 　　　　	}
　　　　　  　     
　　　　　  　     });
	　　　　});
	</script>

</body>
</html>